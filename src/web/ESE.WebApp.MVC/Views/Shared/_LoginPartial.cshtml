@using ESE.WebApi.Core.User;
@using ESE.WebApp.MVC.Extensions;
@inject IAspNetUser AppUser


@if (AppUser.IsAuthenticated())
{
    <div class="d-flex align-items-center">
        <div>
            <vc:cart />
        </div>

        <div class="ml-3">
            <!-- Adicionado margin-left para separar os elementos -->
            <div class="dropdown d-inline-block">
                <a href="#" class="icontext dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img class="icon icon-sm rounded-circle" src="https://s.gravatar.com/avatar/@this.HashEmailForGravatar(AppUser.GetUserEmail())?d=mm&s=45">
                </a> <!-- iconbox // -->
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="#">Meu Perfil</a>
                    <a class="dropdown-item" asp-controller="Order" asp-action="MeusPedidos">Meus Pedidos</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" asp-controller="Identity" asp-action="Logout">Sair</a>
                </div>
            </div>
        </div>
    </div>

}
else
{
    <div class="widget-header">
        <small class="title text-muted">Que bom que você veio!</small>
        <div>
            <a asp-controller="Identity" asp-action="Register">Crie sua conta</a> <span> | </span>
            <a asp-controller="Identity" asp-action="Login"> Login</a>
        </div>
    </div>
}
